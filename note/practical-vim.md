# 《Vim 实用技巧》笔记

Tip 1：使用.（英文点号）“重复上一次修改”

```
vim会记录上一次修改
所谓上一次修改包括：

* 在普通模式下执行的一个命令
* 进入编辑模式到退出便捷模式之间执行到一系列操作

```

Tip 2：不要自我重复

```
用复合命令替换长命令
C c$
s cl
S ^c
I ^i
A $a
o A<CR>
O ko
...
```

Tip 3：以退为进

```
s 替换 :先删除光标下字符在输入替换字符
f{char} :查找下一处指定字符出现到位置
; :重复上一次f命令查找到字符
```

Tip 4：执行、重复、回退

| 目的                     | 操作                  | 重复   | 回退   |
|:------------------------ |:---------------------:|:------:|:------:|
| 做出一个修改             | {edit}                | .      | u      |
| 在行内查找下一指定字符   | f{char}/t{char}       | ;      | ,      |
| 在行内查找上一指定字符   | F{char}/T{char}       | ;      | ,      |
| 在文档中查找下一处匹配项 | /pattern<CR>          | n      | N      |
| 在文档中查找上一处匹配项 | ?patthrn<CR>          | n      | N      |
| 执行替换                 | :s/target/replacement | &      | u      |
| 执行一系列修改           | qx{changes}q          | @x     | u      |

Tip 5：查找并手动替换

```
* :在当前单词上使用*命令，会在文档中查找当前单词，并跳到下一个匹配项上边
```

Tip 6：结识.范式

```
理想模式：用一键移动，另一键执行
```

Tip 7：停顿时请一开画笔（大部分时间都停留在普通模式下）

Tip 8：把撤销单元切成块

```
* 控制好<Esc>键的使用
* 在插入模式中使用了<Up> <Down> <Left> <Right>这些光标键将会产生一个新的撤销块
```

Tip 9：构造可重复的修改

```
思考 dbx bdw daw 的区别？
```

Tip 10：用次数做简单的算数运算

```
[count]<C-a> ：就近对数字加上count
[count]<C-x> ：就近对数字减去count
set nrformats= ：让Vim把所有数字都当成十进制
```

Tip 11：能够重复，就别用次数

```
思考 d2w 2dw dw. 哪个好点？
只在必要时使用次数
```

Tip 12：双剑合璧，天下无敌（这标题取得...）

```
操作符+动作命令=操作

命令 用途
c 修改
d 删除
y 复制到寄存器
g～ 反转大小写
gu 转换为小写
gU 转换为大写
> 增加缩进
< 减小缩进
= 自动缩进
! 使用外部程序过滤{motion}所跨越的行
```

Tip 13：在插入模式中可即时更正错误

```
<C-h> 删除前一个字符
<C-w> 删除前一个单词
<C-u> 删除至行首
```

Tip 14：返回普通模式

```
<Esc> 切换到普通模式
<C-[> 切换到普通模式
<C-o> 切换到插入-普通模式

经常会使用<C-o>zz
```

Tip 15：不离开插入模式，粘贴寄存器中的文本

```
重新映射 Caps Lock 键
<C-r>{register} 很方便的粘贴几个单词
<C-r><C-p>{register} 按原义插入寄存器内的文本并修正任何不必要的缩进
```

Tip 16：随时随地做运算

```
在插入模式中输入<C-r>=
输入要执行的表达式
<CR>
```

Tip 17：用字符编码插入非常用字符

```
在插入模式中输入<C-v>{code}，其中{code}是需要插入的字符。
如果想知道文档中任意字符的编码，只需要把光标移到它上面并按ga命令，然后屏幕下方就会显示出一条消息，分别以十进制和十六进制的形式显示出其字符编码。
```

Tip 18：用二合字母插入非常用字符

```
在插入模式中，只需要输入<C-k>{char1}{char2}
```

Tip 19：用替换模式替换已有文本

```
用R命令可以由普通模式进入替换模式
gR命令可以出发虚拟替换模式
```

Tip 20：深入理解可视模式

```
按<C-g>可以在可视模式及选择模式间切换，切换后唯一的不同是屏幕下方提示信息。但是如果在选择模式中输入任意可见字符的话，此字符会替换所选内容并切换到插入模式。
```
